/**
 * @license Hyphenopoly_Loader 4.1.0 - client side hyphenation
 * ©2020  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
((e,t,s,n)=>{"use strict";const r=sessionStorage,a="Hyphenopoly_Loader.js",l=new Map,o=()=>n.create(null),i="appendChild",p="createElement",c="createTextNode",h=(e,t)=>n.keys(e).forEach(t);s.cacheFeatureTests&&r.getItem(a)?s.cf=JSON.parse(r.getItem(a)):s.cf={langs:o(),pf:!1},(()=>{const e=t.currentScript.src.replace(a,""),n=e+"patterns/";s.paths?(s.paths.maindir=s.paths.maindir||e,s.paths.patterndir=s.paths.patterndir||n):s.paths={maindir:e,patterndir:n}})(),s.setup?(s.setup.hide=s.setup.hide||"all",s.setup.selectors=s.setup.selectors||{".hyphenate":{}},s.setup.timeout=s.setup.timeout||1e3):s.setup={hide:"all",selectors:{".hyphenate":{}},timeout:1e3},s.setup.hide=(()=>{switch(s.setup.hide){case"all":return 1;case"element":return 2;case"text":return 3;default:return 0}})(),h(s.require,e=>{const t=s.fallbacks&&s.fallbacks[e]?s.fallbacks[e]:e;l.set(e.toLowerCase(),new Map([["fn",t],["wo",s.require[e]]]))}),s.defProm=()=>{let e=null,t=null;const s=new Promise((s,n)=>{e=s,t=n});return s.resolve=e,s.reject=t,s},s.hide=(e,n)=>{const r="H9Y_Styles";if(0===e){const e=t.getElementById(r);e&&e.parentNode.removeChild(e)}else{const e=" {visibility: hidden !important}\n",a=t[p]("style");let l="";a.id=r,1===n?l="html"+e:h(s.setup.selectors,t=>{l+=2===n?t+e:t+" {color: transparent !important}\n"}),a[i](t[c](l)),t.head[i](a)}},s.res=new Map([["he",new Map],["fw",new Map]]),(()=>{const n=(()=>{let e=null;const n="hyphens:auto",r=`visibility:hidden;-webkit-${n};-ms-${n};${n};width:48px;font-size:12px;line-height:12px;border:none;padding:0;word-wrap:normal`;return{ap:t=>e?(t[i](e),e):null,cl:()=>{e&&e.parentNode.removeChild(e)},cr:n=>{if(s.cf.langs[n])return;e=e||t[p]("body");const a=t[p]("div");a.lang=n,a.style.cssText=r,a[i](t[c](l.get(n).get("wo").toLowerCase())),e[i](a)}}})();function d(t){const n=l.get(t).get("fn")+".wasm";s.cf.pf=!0,s.cf.langs[t]="H9Y",s.res.get("fw").has(n)?(s.res.get("he").get(s.res.get("fw").get(n)).c+=1,s.res.get("he").set(t,s.res.get("he").get(s.res.get("fw").get(n)))):(s.res.get("he").set(t,{c:1,w:e.fetch(s.paths.patterndir+n,{credentials:"include"})}),s.res.get("fw").set(n,t))}l.forEach((e,t)=>{"FORCEHYPHENOPOLY"===e.get("wo")||s.cf.langs[t]&&"H9Y"===s.cf.langs[t]?d(t):n.cr(t)});const u=n.ap(t.documentElement);if(null!==u){u.querySelectorAll("div").forEach(e=>{var t;"auto"===((t=e.style).hyphens||t.webkitHyphens||t.msHyphens)&&e.offsetHeight>12?s.cf.langs[e.lang]="CSS":d(e.lang)}),n.cl()}if(s.cf.pf){s.res.set("DOM",new Promise(e=>{"loading"===t.readyState?t.addEventListener("DOMContentLoaded",e,{once:!0,passive:!0}):e()})),1===s.setup.hide&&s.hide(1,1),0!==s.setup.hide&&(s.setup.timeOutHandler=e.setTimeout(()=>{s.hide(0,null),console.error(`${a} timed out after ${s.setup.timeout}ms`)},s.setup.timeout)),s.res.get("DOM").then(()=>{s.setup.hide>1&&s.hide(1,s.setup.hide)});const n=t[p]("script");n.src=s.paths.maindir+"Hyphenopoly.js",t.head[i](n),s.hyphenators=o(),h(s.cf.langs,e=>{"H9Y"===s.cf.langs[e]&&(s.hyphenators[e]=s.defProm())}),s.handleEvent&&s.handleEvent.polyfill&&s.handleEvent.polyfill()}else s.handleEvent&&s.handleEvent.tearDown&&s.handleEvent.tearDown(),e.Hyphenopoly=null;s.cacheFeatureTests&&r.setItem(a,JSON.stringify(s.cf))})()})(window,document,Hyphenopoly,Object);