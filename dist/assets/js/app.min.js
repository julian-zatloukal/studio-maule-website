var e={init:function(){e.mainFunction()},mainFunction:function(){var e=function(){n.verifyField("g-recaptcha")},t=function(){n.verifyField("g-recaptcha")},i=function(){n.verifyField("g-recaptcha")};window.onloadCallback=function(){!0,grecaptcha.render($("#g-recaptcha-container")[0],{sitekey:"6LfBRdMUAAAAAFEYhfH9JLBVbQhgO8LU7fIML1ne",callback:e,"error-callback":i,"expired-callback":t})};class n{static async submitToAPI(e){if(e.preventDefault(),n.sanitizeAndVerify()){let e=$("#name-input").val(),i=$("#phone-input").val(),n=$("#email-input").val(),r=$("#subject-input").val(),o=$("#description-input").val();var t={ipv4:await a(),timestamp:moment().format(),grecaptcha_response:grecaptcha.getResponse(),name:e,phone:i,email:n,subject:r,desc:o};$.ajax({type:"POST",url:"https://s19rftjwb7.execute-api.us-east-1.amazonaws.com/test/contact-us",dataType:"json",crossDomain:"true",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(){document.getElementById("contact-form").reset(),$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-success bg-transparent text-success text-center pt-1 pb-1 my-4'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>¡Mensaje enviado exitosamente, gracias por su tiempo!</h3>  </div></section>")},error:function(){$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-danger bg-transparent text-danger text-center pt-1 pb-1 my-4'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>Se ha producido un error al enviar el mensaje.</h3>  </div></section>")}})}}static sanitizeAndVerify(){let e=!0;return n.verifyField("name-input")||(e=!1),n.verifyField("phone-input")||(e=!1),n.verifyField("subject-input")||(e=!1),n.verifyField("email-input")||(e=!1),n.verifyField("description-input")||(e=!1),n.verifyField("g-recaptcha")||(e=!1),console.log("All elements have been validated!"),e}static hideVerifyAlert(e){switch(e){case"#g-recaptcha-container":$(e).hasClass("is-invalid")&&($(e).removeClass("is-invalid"),$(e).next().toggleClass("d-inline-block d-none"));break;default:$(e).hasClass("is-invalid")&&($(e).removeClass("is-invalid"),$(e).next().toggleClass("d-inline d-none"))}}static showVerifyAlert(e,t){switch(e){case"#g-recaptcha-container":$(e).hasClass("is-invalid")||($(e).addClass("is-invalid"),$(e).next().toggleClass("d-none d-inline-block"),$(e).next().html(t));break;default:$(e).hasClass("is-invalid")||($(e).addClass("is-invalid"),$(e).next().toggleClass("d-none d-inline"),$(e).next().html(t))}}static verifyField(e){switch(e){case"name-input":if(""!=$("#name-input").val().trim()){return/^[\w'\-,.][^0-9_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,72}$/.test($("#name-input").val())?(n.hideVerifyAlert("#name-input"),!0):(n.showVerifyAlert("#name-input",lang.contactForm.nameInput.badFormat),!1)}return n.showVerifyAlert("#name-input",lang.contactForm.nameInput.completeThisField),!1;case"phone-input":if(""!=$("#phone-input").val().trim()){return/^(?=.{2,22}$)(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/.test($("#phone-input").val())?(n.hideVerifyAlert("#phone-input"),!0):(n.showVerifyAlert("#phone-input",lang.contactForm.phoneInput.badFormat),!1)}return n.hideVerifyAlert("#phone-input"),!0;case"subject-input":return""==$("#subject-input").val().trim()?(n.showVerifyAlert("#subject-input",lang.contactForm.subjectInput.completeThisField),!1):(n.hideVerifyAlert("#subject-input"),!0);case"email-input":if(""!=$("#email-input").val().trim()){return/^(?!.{254})([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/.test($("#email-input").val())?(n.hideVerifyAlert("#email-input"),!0):(n.showVerifyAlert("#email-input",lang.contactForm.emailInput.badFormat),!1)}return n.showVerifyAlert("#email-input",lang.contactForm.emailInput.completeThisField),!1;case"description-input":if(""!=$("#description-input").val().trim()){return/^.{0,5000}$/.test($("#description-input").val())?(n.hideVerifyAlert("#description-input"),!0):(n.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.badFormat),!1)}return n.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.completeThisField),!1;case"g-recaptcha":return 0==grecaptcha.getResponse().length?(n.showVerifyAlert("#g-recaptcha-container",lang.contactForm.nameInput.completeThisField),$(".g-recaptcha-container div div iframe").css({"border-style":"solid","border-width":"0.075em","border-color":getComputedStyle(document.body).getPropertyValue("--danger"),"border-radius":"0.25em"}),$(".g-recaptcha-container:first-child").css({position:"relative"}),$(".g-recaptcha-container:first-child").addClass("alert-validate"),!1):(n.hideVerifyAlert("#g-recaptcha-container"),$(".g-recaptcha-container div div iframe").css({"border-style":"hidden"}),$(".g-recaptcha-container:first-child").removeClass("alert-validate"),!0)}}}function a(){return new Promise((function(e,t){$.ajax({type:"GET",timeout:1200,url:"https://www.cloudflare.com/cdn-cgi/trace",success:function(i){var n;null!==(n=i.match(/(?<=ip=)(.*)(?=[\r\n])/gm))?e(n[0]):t("Could not fetch IPv4")}})}))}function r(e){$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3,(function(){$("select#subject-input").val(e).change()}))}window.ContactForm=n,$("#description-input").on("input",(function(){$("#character-count").text($("#description-input").val().length)})),Object.defineProperty(window,"veirfy",{get:function(){return n.verifyField("g-recaptcha"),null}}),Object.defineProperty(window,"ip",{get:function(){a().then(e=>console.log("IP: "+e),e=>alert(e))}}),Object.defineProperty(window,"time",{get:function(){console.log(moment().format())}}),Object.defineProperty(window,"gresponse",{get:function(){var e=grecaptcha.getResponse();return console.log(e),null}}),$("#1.carousel-button").click((function(e){e.preventDefault(),r("")})),$("#2.carousel-button").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#3.carousel-button").click((function(e){e.preventDefault(),r("")})),$("[role='button'].service-card").click((function(e){e.preventDefault(),r($(this).parent().siblings(".service-card").text())})),$("#nav-item-contacto").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-servicios").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#servicios-container").offset().top-$("#main-navbar").outerHeight()-10},2e3)})),$("#nav-item-quienes-somos").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#quien-somos-divider").offset().top-$("#quien-somos-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-nuestros-clientes").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#back-to-top").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#nav-item-inico").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#contact-form").submit((function(e){e.preventDefault(),n.submitToAPI(e)})),$.fn.strech_text=function(){var e=jQuery(this),t=e.width();if(jQuery(this).find(".stretch_it").length>0){var i=jQuery(this).find(".stretch_it").html();jQuery(this).html(i)}else i=e.html();var n,a=jQuery('<span class="stretch_it">'+i+"</span>"),r=e.text().length,o=t/r;if(e.html(a),(n=a.width())<t){var c=n/r,s=o-c+(o-c)/r;a.css({"letter-spacing":s})}else a.contents().unwrap(),e.addClass("justify")},jQuery(window).resize((function(){jQuery(".stretch").each((function(){jQuery(this).strech_text()}))})),$(".stretch").each((function(){$(this).strech_text()}))}};$((function(){e.init()}));