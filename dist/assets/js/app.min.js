var e={init:function(){e.mainFunction()},mainFunction:function(){var e=function(){r()},t=function(){i()},n=function(){i()};function i(){$(".g-recaptcha-container div div iframe").css({"border-style":"solid","border-width":"0.075em","border-color":getComputedStyle(document.body).getPropertyValue("--danger"),"border-radius":"0.25em"}),$(".g-recaptcha-container:first-child").css({position:"relative"}),$(".g-recaptcha-container:first-child").addClass("alert-validate"),a.showVerifyAlert("#g-recaptcha-container",lang.contactForm.nameInput.completeThisField)}function r(){$(".g-recaptcha-container div div iframe").css({"border-style":"hidden"}),$(".g-recaptcha-container:first-child").removeClass("alert-validate"),a.hideVerifyAlert("#g-recaptcha-container")}window.onloadCallback=function(){!0,grecaptcha.render($("#g-recaptcha-container")[0],{sitekey:"6LfBRdMUAAAAAFEYhfH9JLBVbQhgO8LU7fIML1ne",callback:e,"error-callback":n,"expired-callback":t})};class a{static sanitizeAndVerify(){let e=!0;return a.verifyField("name-input")||(e=!1),a.verifyField("phone-input")||(e=!1),a.verifyField("subject-input")||(e=!1),a.verifyField("email-input")||(e=!1),a.verifyField("description-input")||(e=!1),0==grecaptcha.getResponse().length?(i(),e=!1):r(),e}static hideVerifyAlert(e){$(e).hasClass("is-invalid")&&($(e).removeClass("is-invalid"),"g-recaptcha-container"===e?$(e).next().toggleClass("d-inline-block d-none"):$(e).next().toggleClass("d-inline d-none"))}static showVerifyAlert(e,t){$(e).hasClass("is-invalid")||($(e).addClass("is-invalid"),"g-recaptcha-container"===e?$(e).next().toggleClass("d-none d-inline-block"):$(e).next().toggleClass("d-none d-inline"),$(e).next().html(t))}static verifyField(e){switch(e){case"name-input":if(""!=$("#name-input").val().trim()){if(!/^[\w'\-,.][^0-9_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,72}$/.test($("#name-input").val()))return a.showVerifyAlert("#name-input",lang.contactForm.nameInput.badFormat),!1;a.hideVerifyAlert("#name-input")}else a.showVerifyAlert("#name-input",lang.contactForm.nameInput.completeThisField);break;case"phone-input":if(""!=$("#phone-input").val().trim()){if(!/^(?=.{2,22}$)(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/.test($("#phone-input").val()))return a.showVerifyAlert("#phone-input",lang.contactForm.phoneInput.badFormat),!1;a.hideVerifyAlert("#phone-input")}else a.hideVerifyAlert("#phone-input");break;case"subject-input":if(""==$("#subject-input").val().trim())return a.showVerifyAlert("#subject-input",lang.contactForm.subjectInput.completeThisField),!1;a.hideVerifyAlert("#subject-input");break;case"email-input":if(""!=$("#email-input").val().trim()){if(!/^(?!.{254})([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/.test($("#email-input").val()))return a.showVerifyAlert("#email-input",lang.contactForm.emailInput.badFormat),!1;a.hideVerifyAlert("#email-input")}else a.showVerifyAlert("#email-input",lang.contactForm.emailInput.completeThisField);break;case"description-input":if(""!=$("#description-input").val().trim()){if(!/^.{0,5000}$/.test($("#description-input").val()))return a.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.badFormat),!1;a.hideVerifyAlert("#description-input")}else a.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.completeThisField)}}}function o(){return new Promise((function(e,t){$.ajax({type:"GET",timeout:1200,url:"https://www.cloudflare.com/cdn-cgi/trace",success:function(n){var i;null!==(i=n.match(/(?<=ip=)(.*)(?=[\r\n])/gm))?e(i[0]):t("Could not fetch IPv4")}})}))}function c(e){$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3,(function(){$("select#subject-input").val(e).change()}))}$("#name-input").blur(()=>{a.verifyField("name-input")}),$("#phone-input").blur(()=>{a.verifyField("phone-input")}),$("#subject-input").blur(()=>{a.verifyField("subject-input")}),$("#email-input").blur(()=>{a.verifyField("email-input")}),$("#description-input").blur(e=>{e.preventDefault(),a.verifyField("description-input")}),window.ContactForm=a,$("#description-input").on("input",(function(){$("#character-count").text($("#description-input").val().length)})),Object.defineProperty(window,"show",{get:function(){return i(),null}}),Object.defineProperty(window,"hide",{get:function(){return r(),null}}),Object.defineProperty(window,"ipv4",{get:function(){o().then(e=>console.log("IPv4: "+e),e=>alert(e))}}),Object.defineProperty(window,"time",{get:function(){console.log(moment().format())}}),Object.defineProperty(window,"gresponse",{get:function(){var e=grecaptcha.getResponse();return console.log(e),null}}),$("#1.carousel-button").click((function(e){e.preventDefault(),c("")})),$("#2.carousel-button").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#3.carousel-button").click((function(e){e.preventDefault(),c("")})),$("[role='button'].service-card").click((function(e){e.preventDefault(),c($(this).parent().siblings(".service-card").text())})),$("#nav-item-contacto").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-servicios").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#servicios-container").offset().top-$("#main-navbar").outerHeight()-10},2e3)})),$("#nav-item-quienes-somos").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#quien-somos-divider").offset().top-$("#quien-somos-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-nuestros-clientes").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#back-to-top").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#nav-item-inico").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#contact-form").submit((function(e){e.preventDefault(),async function(e){if(e.preventDefault(),a.sanitizeAndVerify()){let e=$("#name-input").val(),n=$("#phone-input").val(),i=$("#email-input").val(),r=$("#subject-input").val(),a=$("#description-input").val();var t={ipv4:await o(),timestamp:moment().format(),grecaptcha_response:grecaptcha.getResponse(),name:e,phone:n,email:i,subject:r,desc:a};$.ajax({type:"POST",url:"https://s19rftjwb7.execute-api.us-east-1.amazonaws.com/test/contact-us",dataType:"json",crossDomain:"true",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(){document.getElementById("contact-form").reset(),$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-success bg-transparent text-success text-center pt-1 pb-1 my-3'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>¡Mensaje enviado exitosamente, gracias por su tiempo!</h3>  </div></section>")},error:function(){$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-danger bg-transparent text-danger text-center pt-1 pb-1 my-3'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>Se ha producido un error al enviar el mensaje.</h3>  </div></section>")}})}}(e)})),$.fn.strech_text=function(){var e=jQuery(this),t=e.width();if(jQuery(this).find(".stretch_it").length>0){var n=jQuery(this).find(".stretch_it").html();jQuery(this).html(n)}else n=e.html();var i,r=jQuery('<span class="stretch_it">'+n+"</span>"),a=e.text().length,o=t/a;if(e.html(r),(i=r.width())<t){var c=i/a,s=o-c+(o-c)/a;r.css({"letter-spacing":s})}else r.contents().unwrap(),e.addClass("justify")},jQuery(window).resize((function(){jQuery(".stretch").each((function(){jQuery(this).strech_text()}))})),$(".stretch").each((function(){$(this).strech_text()}))}};$((function(){e.init()}));