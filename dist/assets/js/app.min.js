var e={init:function(){e.mainFunction()},mainFunction:function(){class e{static sanitizeAndVerify(){let t=!0;return e.verifyField("name-input")||(t=!1),e.verifyField("phone-input")||(t=!1),e.verifyField("subject-input")||(t=!1),e.verifyField("email-input")||(t=!1),0==grecaptcha.getResponse().length?($(".g-recaptcha div div iframe").css("border","1px solid red"),showAlertRecaptcha(),t=!1):hideAlertRecaptcha(),t}static hideVerifyAlert(e){$(e).hasClass("is-invalid")&&($(e).removeClass("is-invalid"),$(e).next().toggleClass("d-inline d-none"))}static showVerifyAlert(e){$(e).hasClass("is-invalid")||($(e).addClass("is-invalid"),$(e).next().toggleClass("d-none d-inline"))}static verifyField(t){switch(t){case"name-input":if(!/^[\w'\-,.][^0-9_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,72}$/.test($("#name-input").val()))return e.showVerifyAlert("#name-input"),!1;e.hideVerifyAlert("#name-input");break;case"phone-input":if(""!=$("#phone-input").val()){if(!/^(?=.{2,22}$)(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/.test($("#phone-input").val()))return e.showVerifyAlert("#phone-input"),!1;e.hideVerifyAlert("#phone-input")}else e.hideVerifyAlert("#phone-input");break;case"subject-input":if(""==$("#subject-input").val())return e.showVerifyAlert("#subject-input"),!1;e.hideVerifyAlert("#subject-input");break;case"email-input":if(!/^(?!.{254})([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/.test($("#email-input").val()))return e.showVerifyAlert("#email-input"),!1;e.hideVerifyAlert("#email-input");break;case"description-input":if(!/^.{20,5000}$/.test($("#description-input").val()))return e.showVerifyAlert("#description-input"),!1;e.hideVerifyAlert("#description-input")}}}function t(){return new Promise((function(e,t){$.ajax({type:"GET",timeout:1200,url:"https://www.cloudflare.com/cdn-cgi/trace",success:function(i){var n;null!==(n=i.match(/(?<=ip=)(.*)(?=[\r\n])/gm))?e(n[0]):t("Could not fetch IPv4")}})}))}function i(e){$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3,(function(){$("select#subject-input").val(e).change()}))}$("#name-input").blur(()=>{e.verifyField("name-input")}),$("#phone-input").blur(()=>{e.verifyField("phone-input")}),$("#subject-input").blur(()=>{e.verifyField("subject-input")}),$("#email-input").blur(()=>{e.verifyField("email-input")}),$("#description-input").blur(()=>{e.verifyField("description-input")}),$("#description-input").on("input",(function(){$("#character-count").text($("#description-input").val().length)})),Object.defineProperty(window,"show",{get:function(){return showAlertRecaptcha(),null}}),Object.defineProperty(window,"hide",{get:function(){return hideAlertRecaptcha(),null}}),Object.defineProperty(window,"ipv4",{get:function(){t().then(e=>console.log("IPv4: "+e),e=>alert(e))}}),Object.defineProperty(window,"time",{get:function(){console.log(moment().format())}}),Object.defineProperty(window,"gresponse",{get:function(){var e=grecaptcha.getResponse();return console.log(e),null}}),$("#1.carousel-button").click((function(e){e.preventDefault(),i("")})),$("#2.carousel-button").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#3.carousel-button").click((function(e){e.preventDefault(),i("")})),$("[role='button'].service-card").click((function(e){e.preventDefault(),i($(this).parent().siblings(".service-card").text())})),$("#nav-item-contacto").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#contact-form-whole").offset().top-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-servicios").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#servicios-container").offset().top-$("#main-navbar").outerHeight()-10},2e3)})),$("#nav-item-quienes-somos").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#quien-somos-divider").offset().top-$("#quien-somos-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#nav-item-nuestros-clientes").click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#nuestros-clientes-divider").offset().top-$("#nuestros-clientes-divider").outerHeight(!0)/2-$("#main-navbar").outerHeight()},2e3)})),$("#back-to-top").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#nav-item-inico").click((function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:0},2e3,"swing")})),$("#contact-form").submit((function(i){i.preventDefault(),async function(i){if(i.preventDefault(),e.sanitizeAndVerify()){let e=$("#name-input").val(),i=$("#phone-input").val(),r=$("#email-input").val(),o=$("#subject-input").val(),a=$("#description-input").val();var n={ipv4:await t(),timestamp:moment().format(),grecaptcha_response:grecaptcha.getResponse(),name:e,phone:i,email:r,subject:o,desc:a};$.ajax({type:"POST",url:"https://s19rftjwb7.execute-api.us-east-1.amazonaws.com/test/contact-us",dataType:"json",crossDomain:"true",contentType:"application/json; charset=utf-8",data:JSON.stringify(n),success:function(){document.getElementById("contact-form").reset(),$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-success bg-transparent text-success text-center pt-1 pb-1 my-3'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>¡Mensaje enviado exitosamente, gracias por su tiempo!</h3>  </div></section>")},error:function(){$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-danger bg-transparent text-danger text-center pt-1 pb-1 my-3'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>Se ha producido un error al enviar el mensaje.</h3>  </div></section>")}})}}(i)})),$.fn.strech_text=function(){var e=jQuery(this),t=e.width();if(jQuery(this).find(".stretch_it").length>0){var i=jQuery(this).find(".stretch_it").html();jQuery(this).html(i)}else i=e.html();var n,r=jQuery('<span class="stretch_it">'+i+"</span>"),o=e.text().length,a=t/o;if(e.html(r),(n=r.width())<t){var s=n/o,c=a-s+(a-s)/o;r.css({"letter-spacing":c})}else r.contents().unwrap(),e.addClass("justify")},jQuery(window).resize((function(){jQuery(".stretch").each((function(){jQuery(this).strech_text()}))})),$(".stretch").each((function(){$(this).strech_text()}))}};$((function(){e.init()}));