var t={init:function(){t.mainFunction()},mainFunction:function(){class t{static async submitToAPI(e){if(e.preventDefault(),t.sanitizeAndVerify()){let e="https://s19rftjwb7.execute-api.us-east-1.amazonaws.com/test/contact-us",i=$("#name-input").val(),a=$("#phone-input").val(),r=$("#email-input").val(),o=$("#subject-input").val(),s=$("#description-input").val();var n={ip:await t.getIPAddrPromise(),timestamp:moment().format(),grecaptcha_response:grecaptcha.getResponse(),name:i,phone:a,email:r,subject:o,desc:s};$.ajax({type:"POST",url:e,dataType:"json",crossDomain:"true",contentType:"application/json; charset=utf-8",data:JSON.stringify(n),statusCode:{400:function(t){console.log(t),$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-danger bg-transparent text-danger text-center pt-1 pb-1 my-4'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>Se ha producido un error al enviar el mensaje.</h3>  </div></section>")},200:function(t){console.log(t),document.getElementById("contact-form").reset(),$("#submit_result_area").html("<section style='border-style:solid !important; border-width: 2px !important;' class='jumbotron border border-success bg-transparent text-success text-center pt-1 pb-1 my-4'>  <div class='container'>\t<h5 style='margin-bottom: 0.25rem !important;' class='jumbotron-heading'>¡Mensaje enviado exitosamente, gracias por su tiempo!</h3>  </div></section>")}}})}}static sanitizeAndVerify(){let e=!0;return t.verifyField("name-input")||(e=!1),t.verifyField("phone-input")||(e=!1),t.verifyField("subject-input")||(e=!1),t.verifyField("email-input")||(e=!1),t.verifyField("description-input")||(e=!1),t.verifyField("g-recaptcha")||(e=!1),console.log("All elements have been validated!"),e}static hideVerifyAlert(t){switch(t){case"#g-recaptcha-container":$(t).hasClass("is-invalid")&&($(t).removeClass("is-invalid"),$(t).next().toggleClass("d-inline-block d-none"));break;default:$(t).hasClass("is-invalid")&&($(t).removeClass("is-invalid"),$(t).next().toggleClass("d-inline d-none"))}}static showVerifyAlert(t,e){switch(t){case"#g-recaptcha-container":$(t).hasClass("is-invalid")||($(t).addClass("is-invalid"),$(t).next().toggleClass("d-none d-inline-block"),$(t).next().html(e));break;default:$(t).hasClass("is-invalid")||($(t).addClass("is-invalid"),$(t).next().toggleClass("d-none d-inline"),$(t).next().html(e))}}static getIPAddrPromise(){return new Promise((function(t,e){$.ajax({type:"GET",timeout:1200,url:"https://www.cloudflare.com/cdn-cgi/trace",success:function(n){var i=RegExp("[\n\r].*ip=s*([^\n\r]*)","g").exec(n)[1];null!==i?t(i):e("Could not fetch ip")}})}))}static verifyField(e){switch(e){case"name-input":if(""!=$("#name-input").val().trim()){return/^[\w'\-,.][^0-9_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,72}$/.test($("#name-input").val())?(t.hideVerifyAlert("#name-input"),!0):(t.showVerifyAlert("#name-input",lang.contactForm.nameInput.badFormat),!1)}return t.showVerifyAlert("#name-input",lang.contactForm.nameInput.completeThisField),!1;case"phone-input":if(""!=$("#phone-input").val().trim()){return/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/.test($("#phone-input").val())?(t.hideVerifyAlert("#phone-input"),!0):(t.showVerifyAlert("#phone-input",lang.contactForm.phoneInput.badFormat),!1)}return t.hideVerifyAlert("#phone-input"),!0;case"subject-input":return""==$("#subject-input").val().trim()?(t.showVerifyAlert("#subject-input",lang.contactForm.subjectInput.completeThisField),!1):(t.hideVerifyAlert("#subject-input"),!0);case"email-input":if(""!=$("#email-input").val().trim()){return/^([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)$/.test($("#email-input").val())?(t.hideVerifyAlert("#email-input"),!0):(t.showVerifyAlert("#email-input",lang.contactForm.emailInput.badFormat),!1)}return t.showVerifyAlert("#email-input",lang.contactForm.emailInput.completeThisField),!1;case"description-input":if(""!=$("#description-input").val().trim()){return/^.{0,5000}$/.test($("#description-input").val())?(t.hideVerifyAlert("#description-input"),!0):(t.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.badFormat),!1)}return t.showVerifyAlert("#description-input",lang.contactForm.descriptionInput.completeThisField),!1;case"g-recaptcha":return 0==grecaptcha.getResponse().length?(t.showVerifyAlert("#g-recaptcha-container",lang.contactForm.nameInput.completeThisField),$(".g-recaptcha-container div div iframe").css({"border-style":"solid","border-width":"0.075em","border-color":getComputedStyle(document.body).getPropertyValue("--danger"),"border-radius":"0.25em"}),$(".g-recaptcha-container:first-child").css({position:"relative"}),$(".g-recaptcha-container:first-child").addClass("alert-validate"),!1):(t.hideVerifyAlert("#g-recaptcha-container"),$(".g-recaptcha-container div div iframe").css({"border-style":"hidden"}),$(".g-recaptcha-container:first-child").removeClass("alert-validate"),!0)}}}function e(t,e){const n=2e3;switch(t){case"head":window.matchMedia("only screen and (max-width: 768px)").matches&&$(".navbar-collapse").hasClass("show")&&$(".navbar-toggler").trigger("click"),$("body, html").animate({scrollTop:0},n);break;case"services":window.matchMedia("only screen and (max-width: 768px)").matches?($(".navbar-collapse").hasClass("show")&&$(".navbar-toggler").trigger("click"),$("html, body").stop().animate({scrollTop:$("#servicios-container").offset().top-.15*$(window).height()},n)):$("html, body").stop().animate({scrollTop:$("#servicios-container").offset().top-$("#main-navbar").outerHeight(!0)-.04*$("#servicios-container").outerHeight(!0)},n);break;case"about-us":window.matchMedia("only screen and (max-width: 768px)").matches?($(".navbar-collapse").hasClass("show")&&$(".navbar-toggler").trigger("click"),$("html, body").stop().animate({scrollTop:$("#quienes-somos-container").offset().top-.16*$(window).height()},n)):$("html, body").stop().animate({scrollTop:$("#quienes-somos-container").offset().top-$("#main-navbar").outerHeight(!0)-.32*$("#quienes-somos-container").outerHeight(!0)},n);break;case"our-customers":window.matchMedia("only screen and (max-width: 768px)").matches?($(".navbar-collapse").hasClass("show")&&$(".navbar-toggler").trigger("click"),$("html, body").stop().animate({scrollTop:$("#nuestros-clientes-container").offset().top-.16*$(window).height()},n)):$("html, body").stop().animate({scrollTop:$("#nuestros-clientes-container").offset().top-$("#main-navbar").outerHeight(!0)-.23*$("#nuestros-clientes-container").outerHeight(!0)},n);break;case"contact-form":window.matchMedia("only screen and (max-width: 768px)").matches?($(".navbar-collapse").hasClass("show")&&$(".navbar-toggler").trigger("click"),$("html, body").stop().animate({scrollTop:$("#contact-form-container").offset().top-.15*$(window).height()},n).promise().then(()=>{2==arguments.length&&($("#subject-input option")[e].selected=!0,$("#subject-input").trigger("change"))})):$("html, body").stop().animate({scrollTop:$("#contact-form-container").offset().top-$("#main-navbar").outerHeight(!0)-.23*$("#contact-form-container").outerHeight(!0)},n).promise().then(()=>{2==arguments.length&&($("#subject-input option")[e].selected=!0,$("#subject-input").trigger("change"))})}}window.ContactForm=t,Object.defineProperty(window,"veirfy",{get:function(){return t.verifyField("g-recaptcha"),null}}),Object.defineProperty(window,"ip",{get:function(){return t.getIPAddrPromise().then(t=>console.log("IP: "+t),t=>alert(t)),null}}),Object.defineProperty(window,"time",{get:function(){return console.log(moment().format()),null}}),Object.defineProperty(window,"gresponse",{get:function(){var t=grecaptcha.getResponse();return console.log(t),null}}),Object.defineProperty(window,"scroll",{get:function(){return e("contact-form"),null}}),$("#description-input").on("input",(function(){$("#character-count").text($("#description-input").val().length)})),$("#description-input").on("input",(function(){$("#character-count").text($("#description-input").val().length)})),$("#1.carousel-button").click((function(t){t.preventDefault(),e("contact-form")})),$("#2.carousel-button").click((function(t){t.preventDefault(),e("our-customers")})),$("#3.carousel-button").click((function(t){t.preventDefault(),e("contact-form")})),$("[role='button'].service-card").click((function(t){t.preventDefault(),e("contact-form",parseInt($(this).parent().siblings(".service-card").attr("service-index")))})),$("#nav-item-contacto").click((function(t){t.preventDefault(),e("contact-form")})),$("#nav-item-servicios").click((function(t){t.preventDefault(),e("services")})),$("#nav-item-quienes-somos").click((function(t){t.preventDefault(),e("about-us")})),$("#nav-item-nuestros-clientes").click((function(t){t.preventDefault(),e("our-customers")})),$("#back-to-top").click((function(t){t.preventDefault(),e("head")})),$("#nav-item-inico").click((function(t){t.preventDefault(),e("head")})),$("#contact-form").submit((function(e){e.preventDefault(),t.submitToAPI(e)})),$.fn.strech_text=function(){var t,e=jQuery(this),n=e.width();jQuery(this).find(".stretch_it").length>0?(t=jQuery(this).find(".stretch_it").html(),jQuery(this).html(t)):t=e.html();var i,a=jQuery('<span class="stretch_it">'+t+"</span>"),r=e.text().length,o=n/r;if(e.html(a),(i=a.width())<n){var s=i/r,c=o-s+(o-s)/r;a.css({"letter-spacing":c})}else a.contents().unwrap(),e.addClass("justify")},jQuery(window).resize((function(){jQuery(".stretch").each((function(){jQuery(this).strech_text()}))})),$(".stretch").each((function(){$(this).strech_text()}))}};$((function(){t.init()}));